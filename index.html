<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ImageConverterPro - Convert, Resize & Compress Images Online</title>
  <meta name="description" content="ImageConverterPro is a free online tool to convert, resize, and compress images quickly. Supports JPG, PNG, WebP, and more." />
  <meta name="keywords" content="image converter, resize images, compress images, image enhancement, DPI converter, JPG to PNG, PNG to JPG, WebP converter, image format converter, online image editor, bulk image processing, image quality optimizer" />
  <meta name="author" content="ImageConverterPro" />
  <meta name="robots" content="index, follow" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://imageconverterpro.com/" />
  <meta property="og:title" content="ImageConverterPro - Convert, Resize & Compress Images Online" />
  <meta property="og:description" content="ImageConverterPro is a free online tool to convert, resize, and compress images quickly. Supports JPG, PNG, WebP, and more." />
  <meta property="og:image" content="https://imageconverterpro.com/og-image.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://imageconverterpro.com/" />
  <meta property="twitter:title" content="ImageConverterPro - Convert, Resize & Compress Images Online" />
  <meta property="twitter:description" content="ImageConverterPro is a free online tool to convert, resize, and compress images quickly. Supports JPG, PNG, WebP, and more." />
  <meta property="twitter:image" content="https://imageconverterpro.com/og-image.jpg" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%233b82f6'%3E%3Cpath d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'/%3E%3C/svg%3E" />
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "ImageConverterPro - Convert, Resize & Compress Images Online",
    "alternateName": "ImageConverterPro",
    "description": "ImageConverterPro is a free online tool to convert, resize, and compress images quickly. Supports JPG, PNG, WebP, and more.",
    "url": "https://imageconverterpro.com/",
    "applicationCategory": "MultimediaApplication",
    "operatingSystem": "Any",
    "browserRequirements": "HTML5, Canvas API support",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "Convert images between JPG, PNG, WebP, TIFF, BMP, GIF formats",
      "Resize images by percentage, pixels, or custom dimensions",
      "Compress images while maintaining quality",
      "Enhance images with brightness, contrast, saturation controls",
      "Adjust image DPI with CM and pixel measurements",
      "Batch process multiple images",
      "Real-time preview with before/after comparison",
      "100% client-side processing for privacy",
      "Support for high-resolution images up to 50MB",
      "Free online image processing tool"
    ],
    "softwareRequirements": "Web browser with HTML5 Canvas support",
    "processorRequirements": "Any modern web browser",
    "memoryRequirements": "Minimum 1GB RAM recommended for large images"
  }
  </script>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  
  <style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  --primary: #3b82f6;
  --primary-dark: #2563eb;
  --primary-light: #93c5fd;
  --accent: #10b981;
  --accent-dark: #059669;
  --background: #f8fafc;
  --surface: #ffffff;
  --surface-secondary: #f1f5f9;
  --text: #1e293b;
  --text-muted: #64748b;
  --text-light: #94a3b8;
  --border: #e2e8f0;
  --border-light: #f1f5f9;
  --success: #22c55e;
  --warning: #f59e0b;
  --error: #ef4444;
  --radius: 0.75rem;
  --radius-sm: 0.5rem;
  --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: var(--background);
  color: var(--text);
  line-height: 1.6;
  font-size: 14px;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 1rem;
}

/* Header */
.header {
  background: var(--surface);
  box-shadow: var(--shadow);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: blur(8px);
}

.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 4rem;
  padding: 0 1rem;
}

.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
  text-decoration: none;
  color: inherit;
}

.logo-icon {
  width: 3rem;
  height: 3rem;
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
  border-radius: var(--radius);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.25rem;
  box-shadow: var(--shadow);
}

.logo-text h1 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 0.25rem;
}

.logo-text p {
  font-size: 0.75rem;
  color: var(--text-muted);
  font-weight: 500;
  letter-spacing: 0.5px;
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 1rem;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 1.25rem;
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: var(--transition);
  text-decoration: none;
  gap: 0.5rem;
  min-height: 2.5rem;
  white-space: nowrap;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.btn-primary {
  background: var(--primary);
  color: white;
  box-shadow: var(--shadow);
}

.btn-primary:hover:not(:disabled) {
  background: var(--primary-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

.btn-secondary {
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

.btn-secondary:hover:not(:disabled) {
  background: var(--surface-secondary);
  border-color: var(--primary);
}

.btn-accent {
  background: var(--accent);
  color: white;
  box-shadow: var(--shadow);
}

.btn-accent:hover:not(:disabled) {
  background: var(--accent-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

/* Main Content */
.main {
  padding: 2rem 0;
  min-height: calc(100vh - 4rem);
}

.hero {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem 0;
}

.hero h1 {
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 700;
  color: var(--text);
  margin-bottom: 1rem;
  line-height: 1.2;
}

.hero p {
  font-size: 1.125rem;
  color: var(--text-muted);
  max-width: 50rem;
  margin: 0 auto;
  line-height: 1.7;
}

/* Upload Section */
.upload-section {
  margin-bottom: 3rem;
}

.upload-zone {
  border: 2px dashed var(--border);
  border-radius: var(--radius);
  padding: 3rem 2rem;
  text-align: center;
  background: var(--surface);
  transition: var(--transition);
  cursor: pointer;
}

.upload-zone:hover {
  border-color: var(--primary);
  background: rgba(59, 130, 246, 0.02);
}

.upload-zone.dragover {
  border-color: var(--primary);
  background: rgba(59, 130, 246, 0.05);
  transform: scale(1.02);
}

.upload-content {
  max-width: 24rem;
  margin: 0 auto;
}

.upload-icon {
  font-size: 3rem;
  color: var(--primary);
  margin-bottom: 1rem;
}

.upload-content h3 {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--text);
}

.upload-content p {
  color: var(--text-muted);
  margin-bottom: 1.5rem;
  font-size: 0.875rem;
}

/* Processing Section */
.processing-section {
  animation: fadeInUp 0.5s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.tools-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.tool-card {
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  overflow: hidden;
  transition: var(--transition);
}

.tool-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.tool-card.full-width {
  grid-column: 1 / -1;
}

.tool-header {
  background: var(--surface-secondary);
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--border);
}

.tool-header h3 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.tool-header i {
  color: var(--primary);
}

.tool-content {
  padding: 1.5rem;
}

/* Format Selection */
.format-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.format-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 0.5rem;
  border: 2px solid var(--border);
  border-radius: var(--radius-sm);
  background: var(--surface);
  color: var(--text);
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
}

.format-btn:hover {
  border-color: var(--primary);
  background: rgba(59, 130, 246, 0.05);
}

.format-btn.active {
  border-color: var(--primary);
  background: var(--primary);
  color: white;
}

.format-btn i {
  font-size: 1.25rem;
}

/* Form Elements */
.form-group {
  margin-bottom: 1rem;
}

.label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text);
  margin-bottom: 0.5rem;
}

.input, .select {
  width: 100%;
  padding: 0.625rem 0.875rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  background: var(--surface);
  color: var(--text);
  transition: var(--transition);
}

.input:focus, .select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.input-group {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

/* Sliders */
.slider-container {
  position: relative;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.slider {
  flex: 1;
  height: 6px;
  border-radius: 3px;
  background: var(--border);
  outline: none;
  -webkit-appearance: none;
  cursor: pointer;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--primary);
  cursor: pointer;
  box-shadow: var(--shadow);
}

.slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--primary);
  cursor: pointer;
  border: none;
  box-shadow: var(--shadow);
}

.slider-value {
  min-width: 3rem;
  text-align: right;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text);
}

/* Radio and Checkbox */
.radio-label, .checkbox-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
  cursor: pointer;
  font-size: 0.875rem;
}

.radio-label input[type="radio"], .checkbox-label input[type="checkbox"] {
  display: none;
}

.radio-custom, .checkbox-custom {
  width: 16px;
  height: 16px;
  border: 2px solid var(--border);
  border-radius: 50%;
  position: relative;
  transition: var(--transition);
}

.checkbox-custom {
  border-radius: 3px;
}

.radio-label input[type="radio"]:checked + .radio-custom,
.checkbox-label input[type="checkbox"]:checked + .checkbox-custom {
  border-color: var(--primary);
  background: var(--primary);
}

.radio-label input[type="radio"]:checked + .radio-custom::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: white;
}

.checkbox-label input[type="checkbox"]:checked + .checkbox-custom::after {
  content: '✓';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 10px;
  font-weight: bold;
}

/* Resize Controls */
.resize-options {
  margin-bottom: 1rem;
}

.resize-mode {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.resize-controls {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Compression Presets */
.compression-presets, .dpi-presets {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.preset-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  padding: 0.75rem 0.5rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: var(--surface);
  color: var(--text);
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  text-align: center;
}

.preset-btn:hover {
  border-color: var(--primary);
  background: rgba(59, 130, 246, 0.05);
}

.preset-btn.active {
  border-color: var(--primary);
  background: var(--primary);
  color: white;
}

.preset-btn i {
  font-size: 1rem;
  margin-bottom: 0.25rem;
}

.preset-btn small {
  opacity: 0.8;
  font-size: 0.6rem;
}

/* DPI Controls */
.dpi-controls {
  space-y: 1.5rem;
}

.unit-converter {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--border);
}

.unit-converter h4 {
  font-size: 0.875rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--text);
}

.converter-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 1rem;
}

.converter-sections {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.converter-section {
  background: var(--surface-secondary);
  padding: 1rem;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-light);
}

.converter-section h5 {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 1rem;
  text-align: center;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border);
}

.dimension-inputs {
  display: grid;
  gap: 0.75rem;
}

/* Preview Section */
.preview-section {
  margin-bottom: 2rem;
}

.preview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.preview-item {
  background: var(--surface-secondary);
  border-radius: var(--radius);
  padding: 1rem;
  border: 1px solid var(--border);
}

.preview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.preview-filename {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

.preview-size {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.preview-images {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1rem;
}

.preview-image {
  aspect-ratio: 1;
  border-radius: var(--radius-sm);
  overflow: hidden;
  border: 1px solid var(--border);
  background: white;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.preview-image img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.preview-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  color: var(--text-muted);
  font-size: 0.75rem;
  text-align: center;
}

.preview-placeholder i {
  font-size: 2rem;
  opacity: 0.5;
}

.preview-label {
  font-size: 0.75rem;
  color: var(--text-muted);
  text-align: center;
  margin-top: 0.5rem;
}

.preview-info {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.25rem;
  font-size: 0.75rem;
  color: var(--text-muted);
}

.preview-actions {
  display: flex;
  justify-content: space-between;
  margin-top: 1rem;
}

/* Action Buttons */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
}

/* Quality Control */
.quality-control {
  margin-top: 1rem;
}

/* Enhancement Controls */
.enhancement-controls {
  display: grid;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 0 0.75rem;
  }
  
  .hero {
    padding: 1rem 0;
    margin-bottom: 2rem;
  }
  
  .hero h1 {
    font-size: 1.75rem;
  }
  
  .hero p {
    font-size: 1rem;
  }
  
  .tools-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .tool-content {
    padding: 1rem;
  }
  
  .format-grid {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .input-group {
    grid-template-columns: 1fr;
  }
  
  .preview-images {
    grid-template-columns: 1fr;
  }
  
  .action-buttons {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .logo-text h1 {
    font-size: 1.25rem;
  }
  
  .header-actions {
    gap: 0.5rem;
  }
}

@media (max-width: 480px) {
  .upload-zone {
    padding: 2rem 1rem;
  }
  
  .upload-icon {
    font-size: 2rem;
  }
  
  .upload-content h3 {
    font-size: 1rem;
  }
  
  .compression-presets, .dpi-presets {
    grid-template-columns: 1fr 1fr;
  }
  
  .converter-grid {
    grid-template-columns: 1fr;
  }
  
  .converter-sections {
    grid-template-columns: 1fr;
  }
  
  .preview-grid {
    grid-template-columns: 1fr;
  }
}

/* Progress and Loading States */
.loading {
  opacity: 0.6;
  pointer-events: none;
}

.processing {
  position: relative;
  overflow: hidden;
}

.processing::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  to {
    left: 100%;
  }
}

/* Utility Classes */
.hidden {
  display: none !important;
}

.text-center {
  text-align: center;
}

.text-muted {
  color: var(--text-muted);
}

.text-success {
  color: var(--success);
}

.text-warning {
  color: var(--warning);
}

.text-error {
  color: var(--error);
}

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: 0.5rem; }
.mb-2 { margin-bottom: 1rem; }
.mb-3 { margin-bottom: 1.5rem; }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: 0.5rem; }
.mt-2 { margin-top: 1rem; }
.mt-3 { margin-top: 1.5rem; }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <div class="logo-icon">
            <i class="fas fa-images"></i>
          </div>
          <div class="logo-text">
            <h1>ImageConverterPro</h1>
            <p>Convert • Resize • Compress</p>
          </div>
        </div>
        <div class="header-actions">
          <button class="btn btn-primary" onclick="resetAll()">
            <i class="fas fa-refresh"></i>
            Reset All
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <!-- Hero Section -->
      <section class="hero">
        <h1>Professional Image Processing Made Simple</h1>
        <p>Convert, resize, compress, and enhance your images with our powerful online tool. Support for all major formats with professional-grade quality controls.</p>
      </section>

      <!-- Upload Zone -->
      <section class="upload-section">
        <div class="upload-zone" id="uploadZone">
          <div class="upload-content">
            <i class="fas fa-cloud-upload-alt upload-icon"></i>
            <h3>Drop your images here or click to browse</h3>
            <p>Supports JPG, PNG, WebP, TIFF, BMP, GIF • Up to 50MB per file</p>
            <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
            <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
              <i class="fas fa-folder-open"></i>
              Choose Files
            </button>
          </div>
        </div>
      </section>

      <!-- Processing Interface -->
      <section class="processing-section" id="processingSection" style="display: none;">
        <div class="tools-grid">
          <!-- Format Conversion -->
          <div class="tool-card">
            <div class="tool-header">
              <h3><i class="fas fa-exchange-alt"></i> Format Conversion</h3>
            </div>
            <div class="tool-content">
              <div class="format-grid">
                <button class="format-btn" data-format="jpeg" onclick="selectFormat('jpeg')">
                  <i class="fas fa-file-image"></i>
                  JPG
                </button>
                <button class="format-btn" data-format="png" onclick="selectFormat('png')">
                  <i class="fas fa-file-image"></i>
                  PNG
                </button>
                <button class="format-btn" data-format="webp" onclick="selectFormat('webp')">
                  <i class="fas fa-file-image"></i>
                  WebP
                </button>
                <button class="format-btn" data-format="tiff" onclick="selectFormat('tiff')">
                  <i class="fas fa-file-image"></i>
                  TIFF
                </button>
                <button class="format-btn" data-format="bmp" onclick="selectFormat('bmp')">
                  <i class="fas fa-file-image"></i>
                  BMP
                </button>
                <button class="format-btn" data-format="gif" onclick="selectFormat('gif')">
                  <i class="fas fa-file-image"></i>
                  GIF
                </button>
              </div>
              <div class="quality-control">
                <label for="quality" class="label">Quality (for lossy formats)</label>
                <div class="slider-container">
                  <input type="range" id="quality" min="10" max="100" value="90" class="slider">
                  <span class="slider-value" id="qualityValue">90%</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Resize -->
          <div class="tool-card">
            <div class="tool-header">
              <h3><i class="fas fa-expand-arrows-alt"></i> Resize Images</h3>
            </div>
            <div class="tool-content">
              <div class="resize-options">
                <div class="resize-mode">
                  <label class="radio-label">
                    <input type="radio" name="resizeMode" value="percentage" checked>
                    <span class="radio-custom"></span>
                    By Percentage
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="resizeMode" value="pixels">
                    <span class="radio-custom"></span>
                    By Pixels
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="resizeMode" value="dimensions">
                    <span class="radio-custom"></span>
                    Custom Dimensions
                  </label>
                </div>
                
                <div class="resize-controls" id="percentageControl">
                  <label for="resizePercentage" class="label">Scale Percentage</label>
                  <div class="slider-container">
                    <input type="range" id="resizePercentage" min="10" max="300" value="100" class="slider">
                    <span class="slider-value" id="percentageValue">100%</span>
                  </div>
                </div>

                <div class="resize-controls" id="pixelsControl" style="display: none;">
                  <div class="input-group">
                    <div class="form-group">
                      <label for="resizeWidth" class="label">Width (px)</label>
                      <input type="number" id="resizeWidth" class="input" min="1" max="10000">
                    </div>
                    <div class="form-group">
                      <label for="resizeHeight" class="label">Height (px)</label>
                      <input type="number" id="resizeHeight" class="input" min="1" max="10000">
                    </div>
                  </div>
                  <label class="checkbox-label">
                    <input type="checkbox" id="maintainAspectRatio" checked>
                    <span class="checkbox-custom"></span>
                    Maintain aspect ratio
                  </label>
                </div>

                <div class="resize-controls" id="dimensionsControl" style="display: none;">
                  <div class="input-group">
                    <div class="form-group">
                      <label for="customWidth" class="label">Width</label>
                      <input type="number" id="customWidth" class="input" min="1" step="0.1">
                    </div>
                    <div class="form-group">
                      <label for="customHeight" class="label">Height</label>
                      <input type="number" id="customHeight" class="input" min="1" step="0.1">
                    </div>
                    <div class="form-group">
                      <label for="dimensionUnit" class="label">Unit</label>
                      <select id="dimensionUnit" class="select">
                        <option value="px">Pixels</option>
                        <option value="cm">Centimeters</option>
                        <option value="in">Inches</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Compression -->
          <div class="tool-card">
            <div class="tool-header">
              <h3><i class="fas fa-compress"></i> Compression</h3>
            </div>
            <div class="tool-content">
              <div class="compression-presets">
                <button class="preset-btn" onclick="setCompressionPreset('high')">
                  <i class="fas fa-star"></i>
                  High Quality
                </button>
                <button class="preset-btn" onclick="setCompressionPreset('medium')">
                  <i class="fas fa-balance-scale"></i>
                  Balanced
                </button>
                <button class="preset-btn" onclick="setCompressionPreset('low')">
                  <i class="fas fa-compress-arrows-alt"></i>
                  Small Size
                </button>
              </div>
              <div class="compression-control">
                <label for="compressionLevel" class="label">Compression Level</label>
                <div class="slider-container">
                  <input type="range" id="compressionLevel" min="10" max="100" value="80" class="slider">
                  <span class="slider-value" id="compressionValue">80%</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Enhancement -->
          <div class="tool-card">
            <div class="tool-header">
              <h3><i class="fas fa-magic"></i> Enhancement</h3>
            </div>
            <div class="tool-content">
              <div class="enhancement-controls">
                <div class="form-group">
                  <label for="brightness" class="label">Brightness</label>
                  <div class="slider-container">
                    <input type="range" id="brightness" min="-100" max="100" value="0" class="slider">
                    <span class="slider-value" id="brightnessValue">0</span>
                  </div>
                </div>
                <div class="form-group">
                  <label for="contrast" class="label">Contrast</label>
                  <div class="slider-container">
                    <input type="range" id="contrast" min="-100" max="100" value="0" class="slider">
                    <span class="slider-value" id="contrastValue">0</span>
                  </div>
                </div>
                <div class="form-group">
                  <label for="saturation" class="label">Saturation</label>
                  <div class="slider-container">
                    <input type="range" id="saturation" min="-100" max="100" value="0" class="slider">
                    <span class="slider-value" id="saturationValue">0</span>
                  </div>
                </div>
                <div class="form-group">
                  <label for="sharpness" class="label">Sharpness</label>
                  <div class="slider-container">
                    <input type="range" id="sharpness" min="0" max="200" value="100" class="slider">
                    <span class="slider-value" id="sharpnessValue">100%</span>
                  </div>
                </div>
              </div>
              <button class="btn btn-secondary" onclick="resetEnhancements()">
                <i class="fas fa-undo"></i>
                Reset Enhancements
              </button>
            </div>
          </div>

          <!-- DPI Settings -->
          <div class="tool-card">
            <div class="tool-header">
              <h3><i class="fas fa-ruler"></i> DPI Settings</h3>
            </div>
            <div class="tool-content">
              <div class="dpi-controls">
                <div class="form-group">
                  <label for="dpiValue" class="label">DPI (Dots Per Inch)</label>
                  <input type="number" id="dpiValue" class="input" min="72" max="600" value="300" step="1">
                </div>
                <div class="dpi-presets">
                  <button class="preset-btn" onclick="setDPI(72)">72 DPI<br><small>Web</small></button>
                  <button class="preset-btn" onclick="setDPI(150)">150 DPI<br><small>Email</small></button>
                  <button class="preset-btn" onclick="setDPI(300)">300 DPI<br><small>Print</small></button>
                  <button class="preset-btn" onclick="setDPI(600)">600 DPI<br><small>High Print</small></button>
                </div>
                <div class="unit-converter">
                  <h4>Unit Converter & Dimensions</h4>
                  <div class="converter-sections">
                    <div class="converter-section">
                      <h5>Pixels</h5>
                      <div class="dimension-inputs">
                        <div class="form-group">
                          <label for="pixelsWidth" class="label">Width (px)</label>
                          <input type="number" id="pixelsWidth" class="input" min="1" onchange="convertFromPixels()">
                        </div>
                        <div class="form-group">
                          <label for="pixelsHeight" class="label">Height (px)</label>
                          <input type="number" id="pixelsHeight" class="input" min="1" onchange="convertFromPixels()">
                        </div>
                      </div>
                    </div>
                    
                    <div class="converter-section">
                      <h5>Centimeters</h5>
                      <div class="dimension-inputs">
                        <div class="form-group">
                          <label for="cmWidth" class="label">Width (cm)</label>
                          <input type="number" id="cmWidth" class="input" min="0.1" step="0.1" onchange="convertFromCm()">
                        </div>
                        <div class="form-group">
                          <label for="cmHeight" class="label">Height (cm)</label>
                          <input type="number" id="cmHeight" class="input" min="0.1" step="0.1" onchange="convertFromCm()">
                        </div>
                      </div>
                    </div>
                    
                    <div class="converter-section">
                      <h5>Inches</h5>
                      <div class="dimension-inputs">
                        <div class="form-group">
                          <label for="inchWidth" class="label">Width (in)</label>
                          <input type="number" id="inchWidth" class="input" min="0.1" step="0.1" onchange="convertFromInches()">
                        </div>
                        <div class="form-group">
                          <label for="inchHeight" class="label">Height (in)</label>
                          <input type="number" id="inchHeight" class="input" min="0.1" step="0.1" onchange="convertFromInches()">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Preview & Download -->
          <div class="tool-card full-width">
            <div class="tool-header">
              <h3><i class="fas fa-eye"></i> Preview & Download</h3>
            </div>
            <div class="tool-content">
              <div class="preview-section">
                <div class="preview-grid" id="previewGrid">
                  <!-- Preview items will be dynamically generated -->
                </div>
              </div>
              <div class="action-buttons">
                <button class="btn btn-primary" onclick="processAllImages()" id="processBtn" disabled>
                  <i class="fas fa-cogs"></i>
                  Process Images
                </button>
                <button class="btn btn-accent" onclick="downloadAll()" id="downloadBtn" disabled>
                  <i class="fas fa-download"></i>
                  Download All
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
// Global state
let selectedFiles = [];
let processedImages = [];
let currentSettings = {
  format: 'jpeg',
  quality: 90,
  resizeMode: 'percentage',
  resizePercentage: 100,
  resizeWidth: null,
  resizeHeight: null,
  customWidth: null,
  customHeight: null,
  dimensionUnit: 'px',
  maintainAspectRatio: true,
  compressionLevel: 80,
  brightness: 0,
  contrast: 0,
  saturation: 0,
  sharpness: 100,
  dpi: 300
};

// DOM elements
const fileInput = document.getElementById('fileInput');
const uploadZone = document.getElementById('uploadZone');
const processingSection = document.getElementById('processingSection');
const previewGrid = document.getElementById('previewGrid');
const processBtn = document.getElementById('processBtn');
const downloadBtn = document.getElementById('downloadBtn');

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
  initializeEventListeners();
  initializeSliders();
  initializeFormControls();
});

// Event Listeners
function initializeEventListeners() {
  // File input
  fileInput.addEventListener('change', handleFileSelect);
  
  // Drag and drop
  uploadZone.addEventListener('dragover', handleDragOver);
  uploadZone.addEventListener('dragleave', handleDragLeave);
  uploadZone.addEventListener('drop', handleDrop);
  uploadZone.addEventListener('click', () => fileInput.click());
  
  // Resize mode changes
  document.querySelectorAll('input[name="resizeMode"]').forEach(radio => {
    radio.addEventListener('change', handleResizeModeChange);
  });
  
  // Aspect ratio toggle
  document.getElementById('maintainAspectRatio').addEventListener('change', handleAspectRatioChange);
  
  // Width/height inputs for auto-calculation
  document.getElementById('resizeWidth').addEventListener('input', handleWidthChange);
  document.getElementById('resizeHeight').addEventListener('input', handleHeightChange);
}

function initializeSliders() {
  // Quality slider
  const qualitySlider = document.getElementById('quality');
  const qualityValue = document.getElementById('qualityValue');
  qualitySlider.addEventListener('input', function() {
    qualityValue.textContent = this.value + '%';
    currentSettings.quality = parseInt(this.value);
  });
  
  // Resize percentage slider
  const percentageSlider = document.getElementById('resizePercentage');
  const percentageValue = document.getElementById('percentageValue');
  percentageSlider.addEventListener('input', function() {
    percentageValue.textContent = this.value + '%';
    currentSettings.resizePercentage = parseInt(this.value);
  });
  
  // Compression slider
  const compressionSlider = document.getElementById('compressionLevel');
  const compressionValue = document.getElementById('compressionValue');
  compressionSlider.addEventListener('input', function() {
    compressionValue.textContent = this.value + '%';
    currentSettings.compressionLevel = parseInt(this.value);
  });
  
  // Enhancement sliders
  initializeEnhancementSlider('brightness', 'brightnessValue');
  initializeEnhancementSlider('contrast', 'contrastValue');
  initializeEnhancementSlider('saturation', 'saturationValue');
  initializeEnhancementSlider('sharpness', 'sharpnessValue', '%');
}

function initializeEnhancementSlider(sliderId, valueId, suffix = '') {
  const slider = document.getElementById(sliderId);
  const valueDisplay = document.getElementById(valueId);
  slider.addEventListener('input', function() {
    valueDisplay.textContent = this.value + suffix;
    currentSettings[sliderId] = parseInt(this.value);
  });
}

function initializeFormControls() {
  // DPI input
  document.getElementById('dpiValue').addEventListener('input', function() {
    currentSettings.dpi = parseInt(this.value) || 300;
  });
  
  // Dimension inputs
  document.getElementById('customWidth').addEventListener('input', function() {
    currentSettings.customWidth = parseFloat(this.value);
  });
  
  document.getElementById('customHeight').addEventListener('input', function() {
    currentSettings.customHeight = parseFloat(this.value);
  });
  
  document.getElementById('dimensionUnit').addEventListener('change', function() {
    currentSettings.dimensionUnit = this.value;
  });
}

// File handling
function handleFileSelect(event) {
  const files = Array.from(event.target.files);
  addFiles(files);
}

function handleDragOver(event) {
  event.preventDefault();
  uploadZone.classList.add('dragover');
}

function handleDragLeave(event) {
  event.preventDefault();
  uploadZone.classList.remove('dragover');
}

function handleDrop(event) {
  event.preventDefault();
  uploadZone.classList.remove('dragover');
  
  const files = Array.from(event.dataTransfer.files).filter(file => 
    file.type.startsWith('image/')
  );
  
  if (files.length > 0) {
    addFiles(files);
  }
}

function addFiles(files) {
  // Validate file size (50MB limit)
  const validFiles = files.filter(file => {
    if (file.size > 50 * 1024 * 1024) {
      alert(`File ${file.name} is too large. Maximum size is 50MB.`);
      return false;
    }
    return true;
  });
  
  selectedFiles = [...selectedFiles, ...validFiles];
  
  if (selectedFiles.length > 0) {
    processingSection.style.display = 'block';
    processBtn.disabled = false;
    updatePreview();
  }
}

// Format selection
function selectFormat(format) {
  currentSettings.format = format;
  
  // Update UI
  document.querySelectorAll('.format-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  
  document.querySelector(`[data-format="${format}"]`).classList.add('active');
  
  // Show/hide quality control based on format
  const qualityControl = document.querySelector('.quality-control');
  const showQuality = ['jpeg', 'webp'].includes(format);
  qualityControl.style.display = showQuality ? 'block' : 'none';
  
  // Update preview info if files are loaded
  if (selectedFiles.length > 0) {
    updatePreview();
  }
}

// Resize mode handling
function handleResizeModeChange(event) {
  currentSettings.resizeMode = event.target.value;
  
  // Hide all resize controls
  document.getElementById('percentageControl').style.display = 'none';
  document.getElementById('pixelsControl').style.display = 'none';
  document.getElementById('dimensionsControl').style.display = 'none';
  
  // Show selected control
  const controlMap = {
    'percentage': 'percentageControl',
    'pixels': 'pixelsControl',
    'dimensions': 'dimensionsControl'
  };
  
  document.getElementById(controlMap[event.target.value]).style.display = 'block';
}

function handleAspectRatioChange(event) {
  currentSettings.maintainAspectRatio = event.target.checked;
}

function handleWidthChange(event) {
  const width = parseInt(event.target.value);
  currentSettings.resizeWidth = width;
  
  if (currentSettings.maintainAspectRatio && selectedFiles.length > 0) {
    // Calculate height based on first image's aspect ratio
    const firstFile = selectedFiles[0];
    const img = new Image();
    img.onload = function() {
      const aspectRatio = this.width / this.height;
      const newHeight = Math.round(width / aspectRatio);
      document.getElementById('resizeHeight').value = newHeight;
      currentSettings.resizeHeight = newHeight;
    };
    img.src = URL.createObjectURL(firstFile);
  }
}

function handleHeightChange(event) {
  const height = parseInt(event.target.value);
  currentSettings.resizeHeight = height;
  
  if (currentSettings.maintainAspectRatio && selectedFiles.length > 0) {
    // Calculate width based on first image's aspect ratio
    const firstFile = selectedFiles[0];
    const img = new Image();
    img.onload = function() {
      const aspectRatio = this.width / this.height;
      const newWidth = Math.round(height * aspectRatio);
      document.getElementById('resizeWidth').value = newWidth;
      currentSettings.resizeWidth = newWidth;
    };
    img.src = URL.createObjectURL(firstFile);
  }
}

// Compression presets
function setCompressionPreset(level) {
  const presets = {
    'high': 90,
    'medium': 70,
    'low': 50
  };
  
  const value = presets[level];
  document.getElementById('compressionLevel').value = value;
  document.getElementById('compressionValue').textContent = value + '%';
  currentSettings.compressionLevel = value;
  
  // Update UI
  document.querySelectorAll('.compression-presets .preset-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
}

// DPI controls
function setDPI(value) {
  document.getElementById('dpiValue').value = value;
  currentSettings.dpi = value;
  
  // Update UI
  document.querySelectorAll('.dpi-presets .preset-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
}

// Unit conversion
function convertFromPixels() {
  const pixelWidth = parseInt(document.getElementById('pixelsWidth').value);
  const pixelHeight = parseInt(document.getElementById('pixelsHeight').value);
  if (!currentSettings.dpi) return;
  
  if (pixelWidth) {
    const inchWidth = pixelWidth / currentSettings.dpi;
    const cmWidth = inchWidth * 2.54;
    
    document.getElementById('inchWidth').value = inchWidth.toFixed(2);
    document.getElementById('cmWidth').value = cmWidth.toFixed(2);
  }
  
  if (pixelHeight) {
    const inchHeight = pixelHeight / currentSettings.dpi;
    const cmHeight = inchHeight * 2.54;
    
    document.getElementById('inchHeight').value = inchHeight.toFixed(2);
    document.getElementById('cmHeight').value = cmHeight.toFixed(2);
  }
}

function convertFromCm() {
  const cmWidth = parseFloat(document.getElementById('cmWidth').value);
  const cmHeight = parseFloat(document.getElementById('cmHeight').value);
  if (!currentSettings.dpi) return;
  
  if (cmWidth) {
    const inchWidth = cmWidth / 2.54;
    const pixelWidth = Math.round(inchWidth * currentSettings.dpi);
    
    document.getElementById('inchWidth').value = inchWidth.toFixed(2);
    document.getElementById('pixelsWidth').value = pixelWidth;
  }
  
  if (cmHeight) {
    const inchHeight = cmHeight / 2.54;
    const pixelHeight = Math.round(inchHeight * currentSettings.dpi);
    
    document.getElementById('inchHeight').value = inchHeight.toFixed(2);
    document.getElementById('pixelsHeight').value = pixelHeight;
  }
}

function convertFromInches() {
  const inchWidth = parseFloat(document.getElementById('inchWidth').value);
  const inchHeight = parseFloat(document.getElementById('inchHeight').value);
  if (!currentSettings.dpi) return;
  
  if (inchWidth) {
    const cmWidth = inchWidth * 2.54;
    const pixelWidth = Math.round(inchWidth * currentSettings.dpi);
    
    document.getElementById('cmWidth').value = cmWidth.toFixed(2);
    document.getElementById('pixelsWidth').value = pixelWidth;
  }
  
  if (inchHeight) {
    const cmHeight = inchHeight * 2.54;
    const pixelHeight = Math.round(inchHeight * currentSettings.dpi);
    
    document.getElementById('cmHeight').value = cmHeight.toFixed(2);
    document.getElementById('pixelsHeight').value = pixelHeight;
  }
}

// Enhancement controls
function resetEnhancements() {
  const sliders = ['brightness', 'contrast', 'saturation', 'sharpness'];
  const defaults = { brightness: 0, contrast: 0, saturation: 0, sharpness: 100 };
  
  sliders.forEach(slider => {
    const element = document.getElementById(slider);
    const valueElement = document.getElementById(slider + 'Value');
    const defaultValue = defaults[slider];
    
    element.value = defaultValue;
    valueElement.textContent = defaultValue + (slider === 'sharpness' ? '%' : '');
    currentSettings[slider] = defaultValue;
  });
}

// Preview update
function updatePreview() {
  previewGrid.innerHTML = '';
  
  selectedFiles.forEach((file, index) => {
    const previewItem = createPreviewItem(file, index);
    previewGrid.appendChild(previewItem);
  });
}

function createPreviewItem(file, index) {
  const item = document.createElement('div');
  item.className = 'preview-item';
  
  const img = new Image();
  img.onload = function() {
    const originalSize = formatFileSize(file.size);
    const dimensions = `${this.width} × ${this.height}`;
    
    item.innerHTML = `
      <div class="preview-header">
        <div class="preview-filename">${file.name}</div>
        <div class="preview-size">${originalSize}</div>
      </div>
      <div class="preview-images">
        <div class="preview-image">
          <img src="${img.src}" alt="Original">
          <div class="preview-label">Original</div>
        </div>
        <div class="preview-image">
          <div class="preview-placeholder">
            <i class="fas fa-cogs"></i>
            <div>Preview after processing</div>
          </div>
          <div class="preview-label">Processed</div>
        </div>
      </div>
      <div class="preview-info">
        <div>Dimensions: ${dimensions}</div>
        <div>Original: ${file.type.split('/')[1].toUpperCase()}</div>
        <div>Output: ${currentSettings.format.toUpperCase()}</div>
      </div>
    `;
  };
  
  img.src = URL.createObjectURL(file);
  return item;
}

// Image processing
async function processAllImages() {
  if (selectedFiles.length === 0) return;
  
  processBtn.disabled = true;
  processBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
  
  processedImages = [];
  
  try {
    for (let i = 0; i < selectedFiles.length; i++) {
      const file = selectedFiles[i];
      const processedImage = await processImage(file, i);
      processedImages.push(processedImage);
      updatePreviewItem(i, processedImage);
    }
    
    downloadBtn.disabled = false;
    processBtn.innerHTML = '<i class="fas fa-check"></i> Completed';
    
  } catch (error) {
    console.error('Error processing images:', error);
    alert('Error processing images. Please try again.');
    processBtn.disabled = false;
    processBtn.innerHTML = '<i class="fas fa-cogs"></i> Process Images';
  }
}

async function processImage(file, index) {
  return new Promise((resolve, reject) => {
    const img = new Image();
    
    img.onload = function() {
      try {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        // Calculate dimensions
        const dimensions = calculateDimensions(this.width, this.height);
        canvas.width = dimensions.width;
        canvas.height = dimensions.height;
        
        // For JPEG conversion, fill background with white to handle transparency
        if (currentSettings.format === 'jpeg') {
          ctx.fillStyle = '#FFFFFF';
          ctx.fillRect(0, 0, dimensions.width, dimensions.height);
        }
        
        // Apply enhancements
        ctx.filter = createFilterString();
        
        // Draw image
        ctx.drawImage(this, 0, 0, dimensions.width, dimensions.height);
        
        // Convert to desired format with proper extension
        const outputFormat = getOutputMimeType(currentSettings.format);
        const quality = ['image/jpeg', 'image/webp'].includes(outputFormat) 
          ? currentSettings.quality / 100 
          : 1;
        
        canvas.toBlob((blob) => {
          if (blob) {
            // Create proper filename with correct extension
            const originalName = file.name.split('.')[0];
            const extension = getFileExtension(currentSettings.format);
            const filename = `${originalName}_processed.${extension}`;
            
            console.log(`Converting ${file.name} from ${file.type} to ${outputFormat} (${extension})`);
            
            resolve({
              blob,
              filename,
              originalFile: file,
              dimensions: dimensions,
              size: blob.size,
              format: currentSettings.format,
              outputMimeType: outputFormat
            });
          } else {
            reject(new Error(`Failed to create blob for format: ${outputFormat}`));
          }
        }, outputFormat, quality);
        
      } catch (error) {
        reject(error);
      }
    };
    
    img.onerror = () => reject(new Error('Failed to load image'));
    img.src = URL.createObjectURL(file);
  });
}

function calculateDimensions(originalWidth, originalHeight) {
  let width = originalWidth;
  let height = originalHeight;
  
  switch (currentSettings.resizeMode) {
    case 'percentage':
      const scale = currentSettings.resizePercentage / 100;
      width = Math.round(originalWidth * scale);
      height = Math.round(originalHeight * scale);
      break;
      
    case 'pixels':
      if (currentSettings.resizeWidth && currentSettings.resizeHeight) {
        width = currentSettings.resizeWidth;
        height = currentSettings.resizeHeight;
      }
      break;
      
    case 'dimensions':
      if (currentSettings.customWidth && currentSettings.customHeight) {
        const dpi = currentSettings.dpi;
        
        if (currentSettings.dimensionUnit === 'cm') {
          width = Math.round((currentSettings.customWidth / 2.54) * dpi);
          height = Math.round((currentSettings.customHeight / 2.54) * dpi);
        } else if (currentSettings.dimensionUnit === 'in') {
          width = Math.round(currentSettings.customWidth * dpi);
          height = Math.round(currentSettings.customHeight * dpi);
        } else {
          width = currentSettings.customWidth;
          height = currentSettings.customHeight;
        }
      }
      break;
  }
  
  return { width, height };
}

function createFilterString() {
  const filters = [];
  
  if (currentSettings.brightness !== 0) {
    filters.push(`brightness(${(100 + currentSettings.brightness) / 100})`);
  }
  
  if (currentSettings.contrast !== 0) {
    filters.push(`contrast(${(100 + currentSettings.contrast) / 100})`);
  }
  
  if (currentSettings.saturation !== 0) {
    filters.push(`saturate(${(100 + currentSettings.saturation) / 100})`);
  }
  
  if (currentSettings.sharpness !== 100) {
    // Note: CSS filters don't have sharpness, but we can simulate with contrast
    const
